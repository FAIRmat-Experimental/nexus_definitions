category: application
doc: | 
  This is an application definition for raw data from a generic TOF instrument

symbols: 
  doc: |     
    The symbol(s) listed here will be used below to coordinate datasets with the same shape.

  nDet: | 
    Number of detectors

  nTimeChan: | 
    nTimeChan description

type: group
NXtofraw(NXobject):
  (NXentry)entry:
    title:
    start_time(NX_DATE_TIME):
    definition:
      doc: | 
        Official NeXus NXDL schema to which this file conforms
      enumeration: [NXtofraw]
    duration(NX_FLOAT):
    run_number(NX_INT):
    pre_sample_flightpath(NX_FLOAT):
      unit: NX_LENGTH
      doc: |         
        This is the flight path before the sample position. This can be determined by a chopper,
        by the moderator, or the source itself. In other words':' it is the distance to the component
        which gives the T0 signal to the detector electronics. If another component in the
        NXinstrument hierarchy provides this information, this should be a link.
    (NXuser)user:
      name(NX_CHAR):
    (NXinstrument)instrument:
      (NXdetector)detector:
        data(NX_INT):
          signal: 1
          dimensions:
            rank: 2
            dim: [[1, nDet], [2, nTimeChan]]
        detector_number(NX_INT):
          axis: 2
          dimensions:
            rank: 1
            dim: [[1, nDet]]
        distance(NX_FLOAT):
          unit: NX_LENGTH
          doc: | 
            distance to sample for each detector
          dimensions:
            rank: 1
            dim: [[1, nDet]]
        time_of_flight(NX_FLOAT):
          unit: NX_TIME_OF_FLIGHT
          axis: 1
          dimensions:
            rank: 1
            dim: [[1, nTimeChan]]
        polar_angle(NX_FLOAT):
          unit: NX_ANGLE
          doc: | 
            polar angle for each detector element
          dimensions:
            rank: 1
            dim: [[1, nDet]]
        azimuthal_angle(NX_FLOAT):
          unit: NX_ANGLE
          doc: | 
            azimuthal angle for each detector element
          dimensions:
            rank: 1
            dim: [[1, nDet]]
    (NXsample):
      name:
        doc: | 
          Descriptive name of sample
      nature(NX_CHAR):
        enumeration: [powder, liquid, single crystal]
    (NXmonitor):
      mode:
        doc: |           
          Count to a preset value based on either clock time (timer)
          or received monitor counts (monitor).
        enumeration: [monitor, timer]
      preset(NX_FLOAT):
        doc: | 
          preset value for time or monitor
      distance(NX_FLOAT):
        unit: NX_LENGTH
      data(NX_INT):
        signal: 1
        dimensions:
          rank: 1
          dim: [[1, nTimeChan]]
      time_of_flight(NX_FLOAT):
        unit: NX_TIME_OF_FLIGHT
        axis: 1
        dimensions:
          rank: 1
          dim: [[1, nTimeChan]]
      integral_counts(NX_INT):
        unit: NX_UNITLESS
    (NXdata)data:
      data(link):
        target: /NXentry/NXinstrument/NXdetector/data
      detector_number(link):
        target: /NXentry/NXinstrument/NXdetector/detector_number
      time_of_flight(link):
        target: /NXentry/NXinstrument/NXdetector/time_of_flight
