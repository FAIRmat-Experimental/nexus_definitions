<?xml version="1.0" ?>
<?xml-stylesheet type="text/xsl" href="nxdlformat.xsl"?>
<definition xmlns="http://definition.nexusformat.org/nxdl/3.1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://definition.nexusformat.org/nxdl/3.1 ../nxdl.xsd" extends="NXobject" type="group" category="base" name="NXstage_lab">
    <doc>
         Device which holds, aligns, orients, stimulates a specimen.
         
         Modern stages are multi-functional devices. Many of which offer a controlled environment
         around (a part) of the specimen and enable experimentalists to apply stimuli. Having an
         own candidate class is justified as contemporary specimen/sample stages are such multi-
         purpose/-functional tools with multiple actuators, sensors, components. With such stages
         comes the need for storing various (meta)data that are generated with manipulating the
         sample. Modern stages realize a hierarchy of components. For example the specimen might be
         mounted on a multi-axial tilt rotation holder. This holder is fixed in the support unit
         which connects the holder to the rest of the microscope. In other examples, taken from
         atom probe microscopy for instance, researchers may work with wire samples which are
         clipped into a larger fixing unit for convenience and more careful specimen handling. This
         fixture unit is known in atom probe jargon as a stub. Stubs in turn are positioned onto
         pucks. Pucks are then loaded onto carousels. carousel is a carrier unit with which
         eventually entire sets of specimens can be moved in between parts of the microscope. The
         NXstage_lab class here reflects two layers of this hierarchy. The stage is the root of the
         hierarchy. A stage carries the holder. In the case that it is not practical to distinguish
         these two layers, the holder should be given preference. Applied to examples, a
         nanoparticle is attached on a copper grid. The copper grid is the holder. The grid itself
         is fixed to the stage. An atom probe specimen is fixed in a stub. In this case the stub
         can be considered as the holder, while the cryostat temperature control unit reads more as
         the stage. A microtip on a microtip array is an example of a three-layer hierarchy
         commonly employed for efficient sequential processing of atom probe experiments. For a
         single experiment though only one microtip of the array at a time can be measured.
         Therefore, the microtip is the specimen, the array the holder and the remaining mounting
         unit that is attached to the cryo-controller the stage. To cover for an as flexible design
         of these complex lab-like modern stages, users should nest multiple instances of
         NXstage_lab objects according to their needs to reflect the differences between what they
         consider as the holder and what the stage. Similar complex situations are common in
         advanced electron microscopy. Samples are placed on chips with read-out electronics which
         act as actuators. The chips are again placed in a larger unit. Other examples are (quasi)
         in-situ experiments where experimentalists anneal or deform the specimen via e.g. in-situ
         tensile testing machines which are mounted on the specimen holder.
    </doc>
    <field name="design" type="NX_CHAR">
        <doc>
             Principal design of the stage.
        </doc>
        <enumeration>
            <item value="side entry"/>
            <item value="top entry"/>
            <item value="single tilt"/>
            <item value="quick change"/>
            <item value="multiple specimen"/>
            <item value="bulk specimen"/>
            <item value="double tilt"/>
            <item value="tilt rotate"/>
            <item value="heating chip"/>
            <item value="atmosphere chip"/>
            <item value="electrical-biasing chip"/>
            <item value="liquid-cell chip"/>
        </enumeration>
    </field>
    <field name="name" type="NX_CHAR">
        <doc>
             Given name.
        </doc>
    </field>
    <field name="model" type="NX_CHAR">
        <doc>
             Given brand or model name by the manufacturer.
        </doc>
    </field>
    <field name="serial_number" type="NX_CHAR">
        <doc>
             Given hardware name/serial number or hash identifier issued by the
             manufacturer.
        </doc>
    </field>
    <field name="manufacturer_name" type="NX_CHAR">
        <doc>
             Given name of the manufacturer.
        </doc>
    </field>
    <field name="description" type="NX_CHAR">
        <doc>
             Ideally a link to a (globally persistent) unique identifier which
             documents or can be used to infer further details of the component. If
             such a resource is not available, use this field for a free-text
             description and describe further details to the stage.
        </doc>
    </field>
    <group type="NXtransformations">
        <doc>
             Set of transformations which describe how the stage-affixed coordinate
             system is defined and how it has to be transformed so that it aligns
             with the specimen coordinate system.
        </doc>
    </group>
    <group type="NXpositioner"/>
</definition>
