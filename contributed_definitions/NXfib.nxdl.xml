<?xml version="1.0" ?>
<?xml-stylesheet type="text/xsl" href="nxdlformat.xsl"?>
<definition xmlns="http://definition.nexusformat.org/nxdl/3.1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://definition.nexusformat.org/nxdl/3.1 ../nxdl.xsd" extends="NXobject" type="group" category="base" name="NXfib">
    <doc>
         Set of devices adding focused-ion beam capabilities to an instrument.
    </doc>
    <field name="name" type="NX_CHAR">
        <doc>
             Given name.
        </doc>
    </field>
    <field name="model" type="NX_CHAR">
        <doc>
             Given brand or model name by the manufacturer.
        </doc>
    </field>
    <field name="serial_number" type="NX_CHAR">
        <doc>
             Given hardware name/serial number or hash identifier issued by the
             manufacturer.
        </doc>
    </field>
    <field name="manufacturer_name" type="NX_CHAR">
        <doc>
             Given name of the manufacturer.
        </doc>
    </field>
    <field name="description" type="NX_CHAR">
        <doc>
             Ideally a reference to persistent documentation which specifies
             further details for the device. If this is not available, add a free-
             text description to deliver further details about the focused-ion
             unit.
        </doc>
    </field>
    <group name="ion_gun" type="NXsource">
        <field name="ion_source" type="NX_CHAR">
            <doc>
                 The type of source which creates the ion beam.
            </doc>
            <enumeration>
                <item value="liquid-metal"/>
                <item value="plasma"/>
                <item value="gas-field"/>
            </enumeration>
        </field>
        <field name="ionized_species" type="NX_CHAR">
            <doc>
                 Which ionized elements or molecules are ionized to form the beam which
                 is used to probe or sputter the specimen. Examples are gallium,
                 helium, neon, argon, krypton, or xenon, O2+.
            </doc>
        </field>
        <field name="brightness" type="NX_FLOAT" units="NX_ANY">
            <doc>
                 Average/nominal (DISCUSS FURTHER WITH COLLEAGUES) brightness of the
                 ion beam (at which location?).
            </doc>
        </field>
        <field name="flux" type="NX_FLOAT" units="NX_FLUX">
            <doc>
                 Ion flux
            </doc>
        </field>
        <field name="current" type="NX_FLOAT" units="NX_CURRENT">
            <doc>
                 Charge current
            </doc>
        </field>
        <field name="voltage" type="NX_FLOAT" units="NX_VOLTAGE">
            <doc>
                 Ion acceleration voltage upon source exit and entering the vacuum
                 flight path.
            </doc>
        </field>
        <field name="ion_energy_profile" type="NX_NUMBER" units="NX_ENERGY">
            <doc>
                 NEEDS FURTHER DISCUSSION WITH COLLEAGUES HOW THIS SHOULD BE DEFINED.
            </doc>
        </field>
    </group>
    <group type="NXtransformation">
        <doc>
             A right-handed Cartesian coordinate system is used whose positive
             z-axis points in the direction of the ion beam, i.e. towards the
             sample. For modelling ion milling it is relevant to document the
             illumination vector. NXtransformations offers a place to store how the
             ion gun coordinate system has to be rotated to align its positive
             z-axis with the positive z-axis of e.g. the electron beam and ion beam
             respectively.
        </doc>
    </group>
    <group type="NXlens_em"/>
    <group type="NXaperture"/>
</definition>
