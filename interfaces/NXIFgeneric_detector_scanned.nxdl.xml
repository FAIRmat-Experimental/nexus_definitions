<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="nxdlformat.xsl" ?>
<!--
# NeXus - Neutron and X-ray Common Data Format
# 
# Copyright (C) 2008-2012 NeXus International Advisory Committee (NIAC)
# 
# This library is free software; you can redistribute it and/or
# modify it under the terms of the GNU Lesser General Public
# License as published by the Free Software Foundation; either
# version 3 of the License, or (at your option) any later version.
#
# This library is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
# Lesser General Public License for more details.
#
# You should have received a copy of the GNU Lesser General Public
# License along with this library; if not, write to the Free Software
# Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
#
# For further information, see http://www.nexusformat.org

########### SVN repository information ###################
# $Date: 2012-09-27 05:57:58 +0200 (Thu, 27 Sep 2012) $
# $Author: Pete Jemian $
# $Revision: 1162 $
# $HeadURL: https://svn.nexusformat.org/definitions/branches/interfaces/base_classes/NXaperture.nxdl.xml $
# $Id: NXaperture.nxdl.xml 1162 2012-09-27 03:57:58Z Pete Jemian $
########### SVN repository information ###################
-->
<definition xmlns="http://definition.nexusformat.org/nxdl/@NXDL_RELEASE@" category="base"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://definition.nexusformat.org/nxdl/@NXDL_RELEASE@ ../nxdl.xsd"
    name="NXIFgeneric_detector_scanned" 
    version="1.0"
    type="group" extends="NXobject">
    <doc>
		This interface is for a generic detector which has been scanned against some variable. 
		This is the complicated case when there is no 
		regluarity in the detector and the position and orientation of each pixel has to be 
		described explicitly. ISIS is well known to have such detectors. 
		
		The translation and rotation fields described here shadow those of NXbeamline_component.
 
    </doc>
     <symbols>
       <doc>
		    These symbols will be used below to coordinate datasets with the same shape.
	   </doc>
       <symbol name="ndet"><doc>The number of detectors in the detector</doc></symbol>
       <symbol name="np"><doc>number of scan points (only present in scanning measurements)</doc></symbol>
      <symbol name="scan_axis"><doc>The name of the variable which was varied during the scan. May be in another group. </doc></symbol>
   </symbols>
   <field name="data" type="NX_NUMBER">
		<doc>
			The counts collected in each detector
		</doc>
		<attribute name="signal" type="NX_POSINT">
		<enumeration>
			<item value="1"/>
		</enumeration>
		</attribute>
	    <dimensions rank="2">
            <dim index="1" value="np" />
            <dim index="2" value="ndet" />
        </dimensions>
    </field>
    <field name="efficiency" type="NX_FLOAT" units="NX_DIMENSIONLESS">
      <doc>Detection efficiency of the detector</doc>
	    <dimensions rank="1">
            <dim index="1" value="ndet" />
        </dimensions>
    </field>
    <field name="data_error" type="NX_NUMBER" units="NX_ANY">
      <doc>
	      The best estimate of the uncertainty in the data value. Where
	      possible, this should be the standard deviation, which has the same units
	      as the data.
      </doc>
	    <dimensions rank="2">
            <dim index="1" value="np" />
            <dim index="1" value="ndet" />
        </dimensions>
   </field>
     <field name="dead_time" type="NX_FLOAT" units="NX_TIME">
    <doc>Detector dead time</doc>
	    <dimensions rank="1">
            <dim index="1" value="ndet" />
        </dimensions>
  </field>
    <field name="distance" type="NX_LENGTH">
		<attribute name="transformation_type">
			<enumeration>
				<item value="translation"/>
			</enumeration>
		</attribute>
		<attribute name="vector">
			<enumeration>
				<item value="0,0,1"/>
			</enumeration>
		</attribute>
		<attribute name="offset">
		</attribute>
		<attribute name="depends_on">
		</attribute>
        <doc>Distance along the beam</doc>
	    <dimensions rank="1">
            <dim index="1" value="ndet" />
        </dimensions>
    </field>
   <field name="height" type="NX_LENGTH">
		<attribute name="transformation_type">
			<enumeration>
				<item value="translation"/>
			</enumeration>
		</attribute>
		<attribute name="vector">
			<enumeration>
				<item value="0,1,0"/>
			</enumeration>
		</attribute>
		<attribute name="offset">
		</attribute>
		<attribute name="depends_on">
		</attribute>
        <doc>Height in relation to the beam</doc>
	    <dimensions rank="1">
            <dim index="1" value="ndet" />
        </dimensions>
    </field>
   <field name="x_translation" type="NX_LENGTH">
		<attribute name="transformation_type">
			<enumeration>
				<item value="translation"/>
			</enumeration>
		</attribute>
		<attribute name="vector">
			<enumeration>
				<item value="1,0,0"/>
			</enumeration>
		</attribute>
		<attribute name="offset">
		</attribute>
		<attribute name="depends_on">
		</attribute>
        <doc>Translation peperndicular to the beam in the scattering plane</doc>
	    <dimensions rank="1">
            <dim index="1" value="ndet" />
        </dimensions>
    </field>
   <field name="rotation_angle" type="NX_ANGLE">
		<attribute name="transformation_type">
			<enumeration>
				<item value="rotation"/>
			</enumeration>
		</attribute>
		<attribute name="vector">
			<enumeration>
				<item value="0,1,0"/>
			</enumeration>
		</attribute>
		<attribute name="offset">
		</attribute>
		<attribute name="depends_on">
		</attribute>
        <doc>Rotation of the component around y</doc>
	    <dimensions rank="1">
            <dim index="1" value="ndet" />
        </dimensions>
    </field>
   <field name="azimuthal_angle" type="NX_ANGLE">
		<attribute name="transformation_type">
			<enumeration>
				<item value="rotation"/>
			</enumeration>
		</attribute>
		<attribute name="vector">
			<enumeration>
				<item value="0,0,1"/>
			</enumeration>
		</attribute>
		<attribute name="offset">
		</attribute>
		<attribute name="depends_on">
		</attribute>
        <doc>Rotation of the component around z</doc>
	    <dimensions rank="1">
            <dim index="1" value="ndet" />
        </dimensions>
    </field>
   <field name="meridional_angle" type="NX_ANGLE">
		<attribute name="transformation_type">
			<enumeration>
				<item value="rotation"/>
			</enumeration>
		</attribute>
		<attribute name="vector">
			<enumeration>
				<item value="1,0,0"/>
			</enumeration>
		</attribute>
		<attribute name="offset">
		</attribute>
		<attribute name="depends_on">
		</attribute>
        <doc>Rotation of the component around x</doc>
	    <dimensions rank="1">
            <dim index="1" value="ndet" />
        </dimensions>
    </field>
</definition>
